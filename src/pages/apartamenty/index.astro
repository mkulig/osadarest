---
import { getCollection } from "astro:content";
import ApartmentsPreview from "../../components/ApartmentsPreview.astro";
import Layout from "../../layouts/Layout.astro";
import { toCardProps } from "../../lib/apartments";

const all = await getCollection("apartments");
const items = all.sort((a, b) => a.data.order - b.data.order).map(toCardProps);
---
<Layout
	title="Wszystkie apartamenty"
	description="Wybierz najlepszą opcję dla siebie"
>
    <ApartmentsPreview
        title="Wybierz swój apartament"
        subtitle="Komfortowe, w pełni wyposażone apartamenty"
        basePath="/apartamenty"
        items={items}
    />
</Layout>
