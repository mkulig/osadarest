---
import { getCollection } from "astro:content";
import { Head } from "astro-capo";
import AboutPreview from "../components/AboutPreview.astro";
import ApartmentsPreview from "../components/ApartmentsPreview.astro";
import BaseHead from "../components/BaseHead.astro";
import CtaBooking from "../components/CtaBooking.astro";
import FAQ from "../components/FAQ.astro";
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import Hero from "../components/Hero.astro";
import Location from "../components/Location.astro";
import NearbyAttractions from "../components/NearbyAttractions.astro";
import OffersPreview from "../components/OffersPreview.astro";
import Reviews from "../components/Reviews.astro";
import WhyUs from "../components/WhyUs.astro";
import { SITE_DESCRIPTION } from "../consts";
import { toCardProps, toOfferLD } from "../lib/apartments";

const all = await getCollection("apartments");
const featured = all
	.filter((e) => e.data.featured)
	.sort((a, b) => a.data.order - b.data.order);

const items = featured.map(toCardProps);
const offersLd = featured.map(toOfferLD);
---

<!DOCTYPE html>
<html lang="pl">
	<Head>
		<BaseHead title="Nowoczesne apartamenty" description={SITE_DESCRIPTION} />
	</Head>
	<body class="bg-white dark:bg-gray-900">
		<Header items={items} />

    	<main>
    		<Hero />
            <ApartmentsPreview
                title="Wybierz idealny nocleg w Osada REST"
                subtitle="Komfortowe, w peÅ‚ni wyposaÅ¼one apartamenty blisko atrakcji na sezon zimowy oraz letni."
                items={items}
            />

            <WhyUs />
            <AboutPreview
                usps={[
                { icon: "ðŸ³", text: "Aneks kuchenny i peÅ‚ne wyposaÅ¼enie" },
                { icon: "ðŸ›ï¸", text: "Wygodne Å‚Ã³Å¼ka i przytulne sypialnie" },
                { icon: "ðŸ§´", text: "RÄ™czniki i podstawowe kosmetyki" },
                { icon: "ðŸ§’", text: "Przyjazne rodzinom z dzieÄ‡mi" },
                { icon: "ðŸ“¶", text: "Szybkie i stabilne Wi-Fi" },
                { icon: "ðŸš—", text: "BezpÅ‚atny parking przy obiekcie" },
                { icon: "ðŸŽ¿", text: "Przechowalnia sprzÄ™tu (narty, rowery)" },
                { icon: "ðŸ–", text: "Grill do dyspozycji GoÅ›ci" },
                { icon: "ðŸŒ³", text: "PiÄ™kny ogrÃ³d otaczajÄ…cy obiekt" },
                ]}
            />
            <OffersPreview />
            <NearbyAttractions/>
            <Reviews />
            <Location />
            <FAQ />
            <CtaBooking />
    	</main>
		<Footer />
	</body>
</html>
